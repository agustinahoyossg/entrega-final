"use strict";(self["webpackChunk_1er_proyecto_final_hoyos"]=self["webpackChunk_1er_proyecto_final_hoyos"]||[]).push([[328],{271:function(e,t,a){a.d(t,{Z:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"navBar"}},[t("nav",{staticClass:"navbar navbar-dark bg-dark fixed-top"},[e._m(0),t("div",{staticClass:"d-flex align-items-center"},[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),"usuario"===e.getActiveUser.type?t("router-link",{attrs:{to:"/user"}},[e._v("Usuario")]):e._e(),"admin"===e.getActiveUser.type?t("router-link",{attrs:{to:"/admin"}},[e._v("Admin")]):e._e(),t("button",{staticClass:"btn btn-danger ml-4",on:{click:function(t){return e.logout()}}},[e._v("Cerrar Sesion")])],1)]),t("router-view")],1)},i=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t("img",{attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Underground.svg/1200px-Underground.svg.png",width:"80"}})])}],n=(a(7658),a(3822)),s={name:"NavBar",computed:{...(0,n.Se)(["getActiveUser"])},methods:{...(0,n.OI)(["setUser","setCarritoVacio"]),logout(){this.setUser({name:null,email:null,password:null,id:null,type:null,avatar:null}),this.setCarritoVacio(),"home"!==this.$route.name&&this.$router.push({name:"home"})}}},r=s,l=a(1001),d=(0,l.Z)(r,o,i,!1,null,null,null),c=d.exports},7945:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var o=function(){var e=this,t=e._self._c;return t("div",[t("NavBarVue"),t("add-product"),t("ModificarEvento",{attrs:{evento:e.eventoObject}})],1)},i=[],n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",[e._v("Agregar y eliminar eventos")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.postEvent()}}},[t("div",{staticClass:"d-flex flex-row flex-wrap"},[t("div",{staticClass:"m-3"},[t("label",[e._v("Nombre del evento")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre,expression:"nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value)}}})]),t("div",{staticClass:"m-3"},[t("label",[e._v("Lugar del evento")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lugar,expression:"lugar"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.lugar},on:{input:function(t){t.target.composing||(e.lugar=t.target.value)}}})]),t("div",{staticClass:"m-3"},[t("label",[e._v("Fecha del evento (formato dd/mm/aaa)")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.fecha,expression:"fecha"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.fecha},on:{input:function(t){t.target.composing||(e.fecha=t.target.value)}}})]),t("div",{staticClass:"m-3"},[t("label",[e._v("Valor de la entrada")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.valor,expression:"valor"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.valor},on:{input:function(t){t.target.composing||(e.valor=t.target.value)}}})]),t("div",{staticClass:"m-3"},[t("label",[e._v("Localidades totales")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.localidadestot,expression:"localidadestot"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.localidadestot},on:{input:function(t){t.target.composing||(e.localidadestot=t.target.value)}}})]),t("div",{staticClass:"m-3"},[t("label",[e._v("Horario de apertura (formato HH:MM, 24HS)")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apertura,expression:"apertura"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.apertura},on:{input:function(t){t.target.composing||(e.apertura=t.target.value)}}})]),t("div",{staticClass:"m-3"},[t("label",[e._v("Link de la imagen")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.imagen,expression:"imagen"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.imagen},on:{input:function(t){t.target.composing||(e.imagen=t.target.value)}}})]),t("div",{staticClass:"m-3"},[t("label",[e._v("Descripcion")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.descripcion,expression:"descripcion"}],staticClass:"form-control desc",attrs:{type:"text"},domProps:{value:e.descripcion},on:{input:function(t){t.target.composing||(e.descripcion=t.target.value)}}})])]),t("button",{staticClass:"btn btn-success mt-4",attrs:{type:"submit"}},[e._v("Agregar evento")])]),!0===e.eventoAgregado?t("h3",[e._v("Evento agregado exitosamente!")]):e._e(),t("form",{staticClass:"d-flex justify-content-center",on:{submit:function(t){return e.deleteEvent()}}},[t("div",[t("label",[e._v("Id del producto a eliminar:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eliminar,expression:"eliminar"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.eliminar},on:{input:function(t){t.target.composing||(e.eliminar=t.target.value)}}}),t("button",{staticClass:"btn btn-danger mt-4",attrs:{type:"submit"}},[e._v("Eliminar evento")]),!0===e.eventoEliminado?t("h3",[e._v("Evento eliminado exitosamente!")]):e._e()])])])},s=[],r=a(4311),l={name:"AddProduct",data(){return{nombre:"",lugar:"",fecha:"",valor:null,localidadestot:null,descripcion:"",apertura:"",imagen:"",eliminar:null,eventoAgregado:!1,eventoEliminado:!1}},methods:{async postEvent(){const e={date:this.fecha,name:this.nombre,image:this.imagen,price:this.valor,eventplace:this.lugar,description:this.descripcion,capacity:this.localidadestot,availabletickets:this.localidadesdisp,doorsopenat:this.apertura},t="https://63a21bbcba35b96522f039e2.mockapi.io/londonevents/events";r.Z.post(t,e).then((()=>this.eventoAgregado=!0)).catch((e=>{console.error(`${e}`)})),this.hideElements()},deleteEvent(){const e="https://63a21bbcba35b96522f039e2.mockapi.io/londonevents/events/"+this.eliminar;r.Z["delete"](e),this.eventoEliminado=!0,this.hideElements()},hideElements(){setTimeout((function(){this.eventoAgregado=!1,this.eventoEliminado=!1}),5e3)}}},d=l,c=a(1001),v=(0,c.Z)(d,n,s,!1,null,"e7471928",null),u=v.exports,m=a(271),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[t("h2",[e._v("Modificar lista de eventos existentes")]),e._l(this.getListaEventos,(function(e,a){return t("div",{key:a,staticClass:"cards-container d-flex flex-row p-3"},[t("CrudCard",{attrs:{evento:e}})],1)}))],2)},f=[],g=a(3822),b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card d-flex flex-row bg-dark m-3"},[t("img",{staticClass:"card-img-top card-img",attrs:{src:e.evento.image,alt:"Imagen de evento"}}),t("div",{staticClass:"detalles-contenedor"},[t("ul",{staticClass:"list-group list-group-flush text-dark w500"},[t("li",{staticClass:"list-group-item"},[e._v("Nombre del evento: "+e._s(e.evento.name))]),t("li",{staticClass:"list-group-item"},[e._v("Id del evento: "+e._s(e.evento.id))]),t("li",{staticClass:"list-group-item"},[e._v("En "+e._s(e.evento.eventplace))]),t("li",{staticClass:"list-group-item"},[e._v("Capacidad total "+e._s(e.evento.capacity)+" ")]),t("li",{staticClass:"list-group-item"},[e._v("Fecha: "+e._s(e.evento.date))]),t("li",{staticClass:"list-group-item"},[e._v("Apertura puertas: "+e._s(e.evento.doorsopenat)+" HS")]),t("li",{staticClass:"list-group-item"},[e._v("Valor: £ "+e._s(e.evento.price))]),t("li",{staticClass:"list-group-item"},[e._v("Descripción: "+e._s(e.evento.description))])])]),t("div",{staticClass:"d-flex p-3"},[t("form",{attrs:{id:"crudevento"},on:{submit:function(t){return t.preventDefault(),e.enviarEventoModificado(e.evento,e.eventoModificado)}}},[t("div",[t("label",{staticClass:"m-3"},[e._v("Modificar nombre del evento: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventoModificado.name,expression:"eventoModificado.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nuevo nombre","aria-label":"Nuevo nombre","aria-describedby":"basic-addon1"},domProps:{value:e.eventoModificado.name},on:{input:function(t){t.target.composing||e.$set(e.eventoModificado,"name",t.target.value)}}})]),t("label",{staticClass:"m-3"},[e._v("Modificar lugar del evento: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventoModificado.eventplace,expression:"eventoModificado.eventplace"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Lugar del evento","aria-label":"Lugar","aria-describedby":"basic-addon1"},domProps:{value:e.eventoModificado.eventplace},on:{input:function(t){t.target.composing||e.$set(e.eventoModificado,"eventplace",t.target.value)}}})]),t("label",{staticClass:"m-3"},[e._v("Modificar capacidad: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventoModificado.capacity,expression:"eventoModificado.capacity"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Capacidad del recinto","aria-label":"Capacidad","aria-describedby":"basic-addon1"},domProps:{value:e.eventoModificado.capacity},on:{input:function(t){t.target.composing||e.$set(e.eventoModificado,"capacity",t.target.value)}}})]),t("label",{staticClass:"m-3"},[e._v("Modificar fecha del evento: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventoModificado.date,expression:"eventoModificado.date"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Fecha dd/mm/aaaa","aria-label":"Fecha","aria-describedby":"basic-addon1"},domProps:{value:e.eventoModificado.date},on:{input:function(t){t.target.composing||e.$set(e.eventoModificado,"date",t.target.value)}}})]),t("label",{staticClass:"m-3"},[e._v("Modificar horario de apertura: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventoModificado.doorsopenat,expression:"eventoModificado.doorsopenat"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Hora de apertura en HH:mm","aria-label":"Apertura","aria-describedby":"basic-addon1"},domProps:{value:e.eventoModificado.doorsopenat},on:{input:function(t){t.target.composing||e.$set(e.eventoModificado,"doorsopenat",t.target.value)}}})]),t("label",{staticClass:"m-3"},[e._v("Modificar precio del evento: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventoModificado.price,expression:"eventoModificado.price"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Valor","aria-label":"Precio","aria-describedby":"basic-addon1"},domProps:{value:e.eventoModificado.price},on:{input:function(t){t.target.composing||e.$set(e.eventoModificado,"price",t.target.value)}}})]),t("label",{staticClass:"m-3"},[e._v("Modificar descripcion del evento: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventoModificado.description,expression:"eventoModificado.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Descripcion","aria-label":"Descripcion","aria-describedby":"basic-addon1"},domProps:{value:e.eventoModificado.description},on:{input:function(t){t.target.composing||e.$set(e.eventoModificado,"description",t.target.value)}}})])]),t("button",{staticClass:"btn btn-success mt-3",attrs:{type:"submit"}},[e._v("Enviar cambios")]),e.cambiosEnviados?t("div",[t("h3",{staticClass:"txt-danger"},[e._v("Nuevos datos enviados.")])]):e._e()])])])},h=[],_={name:"ModificarEvento",data(){return{eventoModificado:{id:null,name:null,date:null,doorsopenat:null,price:null,description:null,image:null,capacity:null,eventplace:null},cambiosEnviados:!1}},props:{evento:Object},created(){},computed:{},methods:{...(0,g.nv)(["modificarEventoApi"]),enviarEventoModificado(e,t){for(let a in t)t[a]||(t[a]=e[a]);this.modificarEventoApi(t),this.cambiosEnviados=!0,setTimeout(this.esconderMensaje,3e3),document.getElementById("crudevento").reset(),this.eventoModificado={id:null,name:null,date:null,doorsopenat:null,price:null,description:null,image:null,capacity:null,eventplace:null}},esconderMensaje(){this.cambiosEnviados=!1}}},C=_,x=(0,c.Z)(C,b,h,!1,null,"0967b013",null),M=x.exports,y={name:"ModificarEvento",data(){return{}},components:{CrudCard:M},created(){this.getProductListApi()},computed:{...(0,g.Se)(["getListaEventos"])},methods:{...(0,g.nv)(["getProductListApi"])}},E=y,w=(0,c.Z)(E,p,f,!1,null,"16e41d4e",null),N=w.exports,P={name:"AdminView",data(){return{eventoObject:{}}},computed:{...(0,g.Se)(["getActiveUser"])},components:{AddProduct:u,NavBarVue:m.Z,ModificarEvento:N}},A=P,k=(0,c.Z)(A,o,i,!1,null,"6d1217f8",null),$=k.exports}}]);
//# sourceMappingURL=admin.cca58feb.js.map